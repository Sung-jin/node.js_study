## React 로 사고하기

### 1단계 - UI 를 컴포넌트 계층 구조로 나누기

* 모든 컴포넌트(하위 컴포넌트...)의 주변에 박스를 그리고 각각에 이름을 붙인다.
* 컴포넌트 단위가 되는 것을 정하는 방법 중 하나는 **단일 책임 원칙** 을 기준으로 작성해도 좋다.
    * 하나의 컴포넌트는 한 가지 일을 하는게 이상적이라는 원칙
* 하나의 컴포넌트가 커지게 된다면 이는 보다 작은 하위 컴포넌트로 분리되어야 한다.

### 2단계 - React 로 정적인 버전 만들기

* 데이터 모델을 가지고 UI 를 렌더링은 되지만 아무 동작도 없는 버전을 만들어 본다.
* 이러한 정적 버전을 만들기 위해 다른 컴포넌트를 재사용하는 컴포넌트를 만들고 props 를 이용해 데이터를 전달한다.
    * props 는 부모가 자식에게 데이터를 넘겨줄 때 사용할 수 있는 방법이다.
    * 정적 버전을 만들기 위해 state 를 사용하지 말아야 한다.
        * state 는 오직 상호작용을 위해, 즉 시간이 지남에 따라 데이터가 바뀌는 것에 사용한다.
* 앱을 만들 때 하향식/상향식 형태로 만들 수 있다.
    * 보통 하향식으로 만드는게 쉽지만, 프로젝트가 커지면 상향식으로 만들고 테스트를 작성하면 개발하기가 더 쉽다.
* 이러한 단계가 끝나면 데이터 렌더링을 위해 만들어진 재사용 가능한 컴포넌트들의 라이브러리를 가지게 된다.
    * 현재는 정적 버전이기 때문에 render() 메서드만 가지고 있을 것이다.
* React 의 단방향 데이터 흐름은 모든 것을 모듈화 하고 빠르게 만들어준다.

### 3단계 - UI state 에 대한 최소한의, 하지만 완전한 표현 찾아내기

* UI 를 상호작용하게 만들려면 기반 데이터 모델을 변경할 수 있는 방법이 있어야 한다.
    * 이를 React 는 state 를 통해 변경한다.
* 애플리케이션을 올바르게 만들기 위해서는 애플리케이션에서 필요로 하는 변경 가능한 state 의 최소 집합을 생각해보아야 한다.
    * **중복배제**원칙이 핵심이다.
    * 애플리케이션이 필요로 하는 가장 최소한의 state 를 찾고 이를 통해 나머지 모든 것들을 필요에 따라 계산되도록 만들어야 한다.

### 4단계 - State 가 어디에 있어야 할 지 찾기

* 어떤 컴포넌트가 state 를 변경하거나 소유할지 찾아야 한다.
* React 는 항상 컴포넌트 계층구조를 따라 아래로 내려가는 단방향 데이터 흐름을 따른다.
* 애플리케이션이 가지는 각각의 state
    * state 를 기반으로 렌더링하는 모든 컴포넌트를 찾아라.
    * 공통 소유 컴포넌트를 찾아라 (계층 구조 내에서 특정 state 가 있어야 하는 모든 컴포넌트들의 상위에 있는 하나의 컴포넌트)
    * 공통 혹은 더 상위에 있는 컴포넌트가 state 를 가져야 한다.
    * state 를 소유할 적절한 컴포넌트를 찾지 못하였다면, state 를 소유하는 컴포넌트를 하나 만들어서 공통 오너 컴포넌트의 상위 계층에 추가한다.

### 5단계 - 역방향 데이터 흘므 추가하기

* React 는 전통적인 양방향 데이터 바인딩과 비교하면 더 많은 타이핑이 필요로 한다.
    * 하지만 데이터 흐름을 명시적으로 보이게 만들어서 프로그램이 어떻게 동작하는지 파악하게 도와준다.
* 컴포넌트는 자신의 state 만 변경할 수 있기 때문에 하위 컴포넌트에 전달한 state 를 변경하기 위해서는 콜백을 통해 state 를 변경한다.
    * 예를들어 onChagne 함수를 전달하여 변경할 때, 해당 함수를 실행시키면서 부모 컴포넌트의 state 를 변경한다.
    * 부모가 전달한 onChange 에는 state 를 변경하는 setState 가 존재하고, 이를 이용해서 값을 변경한다.
